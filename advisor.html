<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Safe Setup Advisor</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f5f5f5;
      margin: 0;
      padding: 0;
    }
    .advisor-container {
      max-width: 500px;
      margin: 80px auto;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
      padding: 32px;
    }
    h2 {
      margin-bottom: 24px;
      font-size: 1.5rem;
      text-align: center;
      color: #111;
    }
    label {
      display: block;
      margin: 16px 0 8px;
      font-weight: bold;
    }
    select, input[type="number"] {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    .options {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }
    .options button {
      flex: 1;
      padding: 10px;
      border: 1px solid #111;
      border-radius: 4px;
      background: #fff;
      cursor: pointer;
      transition: background 0.2s, color 0.2s;
    }
    .options button.active {
      background: #111;
      color: #fff;
    }
    button#show-plan {
      margin-top: 24px;
      width: 100%;
      padding: 12px;
      background: #111;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 1rem;
      font-weight: bold;
    }
    .plan {
      margin-top: 32px;
      border-top: 1px solid #eee;
      padding-top: 24px;
    }
    .plan h3 {
      margin-bottom: 16px;
      font-size: 1.25rem;
    }
    .plan ul {
      list-style: disc;
      padding-left: 20px;
      color: #555;
    }
    .plan .cta {
      margin-top: 24px;
      text-align: center;
    }
    .plan .cta a {
      display: inline-block;
      margin: 0 8px;
      padding: 10px 24px;
      border-radius: 4px;
      text-decoration: none;
      font-weight: bold;
    }
    .plan .cta a.primary {
      background: #111;
      color: #fff;
    }
  </style>
</head>
<body>

  <script src="https://unpkg.com/alpinejs@3.x.x" defer></script>

  <div x-data="safeAdvisor()" class="advisor-container">
    <h2>Configure Your Safe Wallet</h2>

    <!-- Security Profile -->
    <label>Security Profile</label>
    <div class="options">
      <button 
        :class="{ 'active': answers.profile==='essential' }" 
        @click="answers.profile='essential'">
        Essential (< $1M TVL)
      </button>
      <button 
        :class="{ 'active': answers.profile==='treasury' }" 
        @click="answers.profile='treasury'">
        Treasury-grade (> $1M TVL)
      </button>
    </div>

    <!-- Use Case -->
    <label>Primary Use Case</label>
    <div class="options">
      <button 
        :class="{ 'active': answers.useCase==='treasury' }" 
        @click="answers.useCase='treasury'">
        Treasury Management
      </button>
      <button 
        :class="{ 'active': answers.useCase==='defi' }" 
        @click="answers.useCase='defi'">
        DeFi Trading & Staking
      </button>
      <button 
        :class="{ 'active': answers.useCase==='hybrid' }" 
        @click="answers.useCase='hybrid'">
        Both
      </button>
    </div>

    <!-- Team Members -->
    <label>How many team members?</label>
    <input 
      type="number" 
      min="2" 
      max="20" 
      placeholder="e.g. 3" 
      x-model.number="answers.teamSize" />

    <!-- Show Plan Button -->
    <button 
      id="show-plan" 
      @click="showPlan = true" 
      :disabled="!answers.profile || !answers.useCase || !answers.teamSize">
      Show My Plan
    </button>

    <!-- Recommendation Plan -->
    <template x-if="showPlan">
      <div class="plan">
        <h3>Your Custom Safe Plan</h3>
        <ul>
          <template x-for="(item, idx) in recommendation" :key="idx">
            <li x-text="item"></li>
          </template>
        </ul>
        <div class="cta">
          <a href="/app" class="primary">Launch Wallet</a>
        </div>
      </div>
    </template>
  </div>

  <script>
    function safeAdvisor() {
      return {
        answers: { profile: null, useCase: null, teamSize: null },
        showPlan: false,
        get recommendation() {
          const { profile, teamSize } = this.answers;
          const plan = [];

          // signer recommendation based on team size
          if (teamSize < 4) {
            plan.push(`${teamSize}-of-${teamSize} multisig`);
          } else if (teamSize <= 7) {
            plan.push(`3-of-${teamSize} multisig (requires 3 approvals)`);
          } else {
            plan.push(`4-of-${teamSize} multisig (requires 4 approvals)`);
          }

          // daily cap based on profile
          if (profile === 'essential') {
            plan.push('Daily spend cap: 10% of average volume');
          } else {
            plan.push('Daily spend cap: 5% of TVL');
          }

          // recovery recommendation
          plan.push('Recovery: social recovery module + hardware fallback');

          return plan;
        },
        reset() {
          this.answers = { profile: null, useCase: null, teamSize: null };
          this.showPlan = false;
        }
      }
    }
  </script>

</body>
</html>
